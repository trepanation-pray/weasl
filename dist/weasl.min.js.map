{"version":3,"sources":["weasl.js"],"names":["weaslOpen","content","name","style","padding","width","weaslOpened","Event","modal","wrap","document","createElement","overlay","container","close","classList","add","setAttribute","maxWidth","innerHTML","body","firstChild","appendChild","setTimeout","querySelector","focus","dispatchEvent","weaslClose","event","expiration","weaslClosed","remove","weasl","options","weaslInit","addEventListener","target","matches","preventDefault"],"mappings":"AAAA,SAAAA,UAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAEA,IAAAC,EAAA,IAAAC,MAAA,eAGAC,EAAA,CACAC,KAAAC,SAAAC,cAAA,OACAC,QAAAF,SAAAC,cAAA,OACAE,UAAAH,SAAAC,cAAA,OACAV,QAAAS,SAAAC,cAAA,OACAG,MAAAJ,SAAAC,cAAA,WAkCA,IA9BAH,EAAAC,KAAAM,UAAAC,IAAA,oBAEAR,EAAAI,QAAAG,UAAAC,IAAA,SACAR,EAAAI,QAAAG,UAAAC,IAAA,SAAAd,GAEAC,GACAK,EAAAI,QAAAG,UAAAC,IAAAb,GAGAK,EAAAK,UAAAE,UAAAC,IAAA,oBACAR,EAAAK,UAAAI,aAAA,OAAA,UACAT,EAAAK,UAAAI,aAAA,WAAA,KAEAb,IACAI,EAAAK,UAAAV,MAAAC,QAAAA,GAEAC,IACAG,EAAAK,UAAAV,MAAAe,SAAAb,GAGAG,EAAAP,QAAAc,UAAAC,IAAA,kBAEAR,EAAAP,QAAAkB,UAAAlB,EAEAO,EAAAM,MAAAC,UAAAC,IAAA,gBACAR,EAAAM,MAAAG,aAAA,OAAA,UACAT,EAAAM,MAAAG,aAAA,QAAA,eACAT,EAAAM,MAAAG,aAAA,WAAA,KAGAP,SAAAU,KAAAC,YAEAb,EAAAC,KAAAa,YAAAZ,SAAAU,KAAAC,YAIAX,SAAAU,KAAAE,YAAAd,EAAAC,MACAD,EAAAI,QAAAU,YAAAd,EAAAK,WACAL,EAAAK,UAAAS,YAAAd,EAAAP,SACAO,EAAAK,UAAAS,YAAAd,EAAAM,OACAJ,SAAAU,KAAAE,YAAAd,EAAAI,SAKAW,WAAA,WAEAb,SAAAU,KAAAL,UAAAC,IAAA,iBAEAO,WAAA,WAEAb,SAAAU,KAAAI,cAAA,qBAAAC,QAEAf,SAAAgB,cAAApB,IAEA,MAEA,GAMA,SAAAqB,WAAAC,EAAAC,GAEA,IAAAC,EAAA,IAAAvB,MAAA,eAGAG,SAAAU,KAAAL,UAAAgB,OAAA,iBAIAR,WAAA,WAEA,IAAAH,EAAAV,SAAAU,KAAAI,cAAA,qBAAAL,UAGAT,SAAAU,KAAAD,UAAAC,GAEA,KAGAV,SAAAgB,cAAAI,GAiBA,SAAAE,MAAAC,GAGA,IAAAC,EAAA,IAAA3B,MAAA,aAGAG,SAAAgB,cAAAQ,GAEA,IAAAhC,EAAA+B,EAAA/B,KAOAF,UANAiC,EAAAhC,QAMAC,EALA+B,EAAA9B,MACA8B,EAAA7B,QACA6B,EAAA5B,OAxBAK,SAAAyB,iBAAA,QAAA,SAAAP,GAEAA,EAAAQ,OAAAC,QAAA,iDAEAT,EAAAU,iBAEAX,WAAAC,MAEA","file":"weasl.min.js","sourcesContent":["function weaslOpen( content, name, style, padding, width ) {\n\n  var weaslOpened = new Event('weaslOpened');\n\n  // Create the modal structure\n  var modal = {\n    wrap: document.createElement( 'div' ),\n    overlay: document.createElement( 'div' ),\n    container: document.createElement( 'div' ),\n    content: document.createElement( 'div' ),\n    close: document.createElement( 'button' ),\n  }\n\n  //Add classes and attributes\n  modal.wrap.classList.add('weasl__site-wrap');\n\n  modal.overlay.classList.add('weasl');\n  modal.overlay.classList.add('weasl-' + name);\n\n  if ( style ) {\n    modal.overlay.classList.add(style);\n  }\n\n  modal.container.classList.add('weasl__container');\n  modal.container.setAttribute('role', 'dialog');\n  modal.container.setAttribute('tabindex', '0');\n\n  if ( padding ) {\n    modal.container.style.padding = padding;\n  }\n  if ( width ) {\n    modal.container.style.maxWidth = width;\n  }\n\n  modal.content.classList.add('weasl__content');\n\n  modal.content.innerHTML = content;\n\n  modal.close.classList.add('weasl__close');\n  modal.close.setAttribute('type', 'button');\n  modal.close.setAttribute('title', 'Close modal');\n  modal.close.setAttribute('tabindex', '0');\n  \n  // Move the body's children into this wrapper\n  while (document.body.firstChild)\n  {\n    modal.wrap.appendChild(document.body.firstChild);\n  }\n\n  // Add modal structure to dom\n  document.body.appendChild(modal.wrap);\n  modal.overlay.appendChild(modal.container);\n  modal.container.appendChild(modal.content);\n  modal.container.appendChild(modal.close);\n  document.body.appendChild(modal.overlay);\n\n\n  // Activate Modal\n\n  setTimeout(function(){\n\n    document.body.classList.add('weasl--active');\n\n    setTimeout(function(){\n      //Set focus\n      document.body.querySelector('.weasl__container').focus();\n      // Dispatch the open event.\n      document.dispatchEvent(weaslOpened);\n    \n    }, 250 ); \n\n  }, 0 ); \n\n}\n\n// Close modal\n\nfunction weaslClose( event, expiration) {\n\n  var weaslClosed = new Event('weaslClosed');\n\n  // Remove active states from body.\n  document.body.classList.remove('weasl--active');\n  \n  // Remove Content.\n\n  setTimeout(function(){\n    // Grab the original body contents\n    var body = document.body.querySelector('.weasl__site-wrap').innerHTML;\n    \n    // Reinstate the boby contents\n    document.body.innerHTML = body;\n\n  }, 250 ); \n\n  // Dispatch the close event.\n  document.dispatchEvent(weaslClosed);\n\n};\n\n\ndocument.addEventListener('click', function (event) {\n  \n  if (!event.target.matches('.weasl__close, .weasl__close-button, .weasl')) return;\n\n  event.preventDefault();\n  \n  weaslClose( event );\n  \n}, false);\n\n\n// Main weasl function\nfunction weasl( options ) {\n  \n  // Declare the intiate event.\n  var weaslInit = new Event('weaslInit');\n\n  // Dispatch the initiate event.\n  document.dispatchEvent(weaslInit);\n\n  var name = options.name,\n      content = options.content,\n      style = options.style,\n      padding = options.padding,\n      width = options.width;\n      \n      \n  weaslOpen( content, name, style, padding, width );\n\n}"]}